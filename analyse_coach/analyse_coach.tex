\input{../style}

\title{Analyse met Coach}
\author{C.G.N. van Veen}
\docanalyse{4}{AC}
\version{1.5}

\begin{document}

\maketitle

\section{Inleiding}

Dit werkblad helpt leerlingen en docenten om data analyse van \hisparc met
het software pakket Coach (6 of 7) te doen. Coach (6 of 7) is een software pakket wat leerlingen
en docenten in staat stelt om fysische grootheden te meten en analyses met deze
data te doen. Coach is al op veel scholen beschikbaar en leerlingen kunnen hier
gemakkelijk mee aan de slag.
We gebruiken het onderdeel `analyse' van Coach om ESD data van \hisparc te analyseren.
In dit document wordt stap voor stap uitgelegd hoe je deze data in kunt laden in
Coach. Daarnaast wordt uitgelegd hoe je van deze data in Coach
grafieken kunt plotten en analyseren. In dit document wordt eerst uitgelegd hoe
dit met Coach 6 gedaan wordt. Het laatste deel van dit document licht toe hoe dezelfde grafieken
in Coach 7 gemaakt worden.

\section{Het ophalen van ESD data}

Ga naar de volgende website \url{https://data.hisparc.nl} en kies een station waar
je data van wilt downloaden, klik op dat station. Op de pagina waar je dan komt
staat aan de rechterkant de link: `Download event summary data', klik daarop.
Kies voor het gemak voor één dag data, dan is het bestand nog redelijk klein.
Je krijgt een tsv-bestand binnen waarin als eerste (de eerste 28 regels) beschreven staat wat je
in elke kolom aan data vindt. In het tsv-bestand vindt je onder andere, tijdstempel per event,
pulshoogte en pulsintegraal per detector, aantal deeltjes per detector en aankomsttijden van
de shower in de detector.

\section{Inlezen van de data in Coach.}

Het tsv-bestand gaan we nu inlezen in Coach. Open Coach; log in als docent; kies `nieuwe activiteit';
`meten'. (Je hoeft geen meetpaneel te kiezen.)

Klik op het icoon tabel, zie \figref{fig:coach1}. Je kunt hier kiezen om een
nieuwe tabel aan te maken. Er verschijnt een werkvenster `tabel kiezen of maken'.
Kies in dit werkvenster `importeren'. In het uitklapvenster kies je `tekst bestand'.

\textit{Deel van de HiSPARC data uit een tsv-bestand.}
\begin{verbatim}
15/07/15	14:00:10	1436968810	060318189     4	    6	256	  122	0	...
15/07/15	14:00:13	1436968813	006833767  1416	  485	255	 1041 0 ...
15/07/15	14:00:13	1436968813	116782974     4	  351	272	    6	0	...
15/07/15	14:00:13	1436968813	344642048     6	  379	261	    4	0	...
15/07/15	14:00:14	1436968814	113137182     5	    5	223	  136	0	...
15/07/15	14:00:20	1436968820	261698618     4	  247	  4	  365	0	...
\end{verbatim}

\begin{figure}
    \centering
    \includegraphics[scale=0.6]{coach1}
    \caption{Screenshot van Coach 6, open een nieuwe activiteit door op
    het icoon linksboven te klikken (vier window icoon).In de nieuwe activiteit
    "meten" kun je nu een tabel invoegen. Het icoon van tabel invoegen is
    aangegeven met de rechterpijl. Klik op dit icoon, er verschijnt dan een werkvenster.}
    \label{fig:coach1}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[scale=0.6]{coach2}
    \caption{Importeren van een tsv-bestand met Coach. Kies tabel `importeren' en
    dan `tekstbestand'.}
    \label{fig:coach2}
\end{figure}

Bij het importeren van het tsv-bestand moet je aangeven hoe Coach het bestand moet
lezen. In \figref{fig:coach3} kun je zien dat je dat het decimaal teken
een punt moet zijn. Voor duizendtallen mag je ook `geen' invullen. Omdat je de tekst
boven de data in het tsv-bestand niet wilt, moet je aangeven dat je vanaf rij
28 begint.

\begin{figure}
    \centering
    \includegraphics[scale=0.6]{coach3}
    \caption{Instellen van importeer mogelijkheden in Coach.}
    \label{fig:coach3}
\end{figure}

Als je nu op `ok' klikt ben je bijna klaar met importeren. Je kunt nu boven elke
kolom aangeven wat er voor data in staat. De eerste twee kolommen bevatten in Coach 6
helaas niets, omdat datum en tijd niet herkend worden. De kolommen 3 tot en met
8 bevatten wel data die we kunnen gebruiken. In kolom 3 staat het GPS-tijdstempel UNIX epoch.
Dat betekent dat we datum-tijdstempel van het event in het aantal seconden na 1 januari 1970 uitdrukken.
Kolom 4 heeft het tijdstempel in het aantal nanoseconden.
Kolommen 5 tot en met 8 bevatten de pulshoogte waarden voor een bepaald event.
Je kunt het aantal decimalen instellen op 0 voor elke grootheid. Zie \figref{fig:coach4}

Klik nu `ok'. Nu is de data van het tsv-bestand als tabel 1 beschikbaar.
klik op tabel 1 en plaats deze in een venster.

\begin{figure}
    \centering
    \includegraphics[scale=0.6]{coach4}
    \caption{Kolommen de juiste naam geven.}
    \label{fig:coach4}
\end{figure}


\section{Pulshoogte diagram in Coach}

We hebben nu de data van het tsv-bestand ingelezen in Coach en gaan er een
pulshoogte histogram van plotten. Daarna kunnen we met behulp van de analyse
mogelijkheden in Coach kunnen we onderzoek doen aan het histogram.

\subsection{Pulshoogte diagram maken}

De snelste manier om een histogram is om op de betreffende kolom in het tabel venster
'rechts' te klikken en dan uit het analyse menu, histogram te kiezen.
Je moet echter aangeven in hoeveel stappen je het histogram wilt laten maken.
Dan geef je aan bij `aantal klassen'. Verander dit bijvoorbeeld in 200. Onderzoek
ook het effect van meer of minder `klassen' (in het Engels worden `klassen' het aantal
`Bins' genoemd.)

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach5}
    \caption{Aantal klassen aanpassen voor het histogram.}
    \label{fig:coach5}
\end{figure}

Klik `ok' en plaats het diagram in een leeg window. Kies nu `automatisch zoomen'.
Nu zie je een histogram van de pulshoogte van detector 1.

\textbf{Opdracht 1.}
Maak nog 3 dezelfde histogrammen van de andere detectoren. Plaats deze apart in diagrammen.
(je kunt ze ook in een diagram plaatsen.)

We willen graag een logaritmische y-as, dat kunnen we instellen.
Klik rechts op het diagram, kies `diagram instelling'. Zie \figref{fig:coach6}
Zorg dat je kolom C3 onzichtbaar maakt (tip: geef C3 een duidelijke naam bij het vakje
grootheid). In C4 maak je een formule, selecteer C4 en kies de formule knop.
Maak nu een formule waarin je de log van de grootheid van C3 neemt.
In `diagram instelling' kun je ook nog aangeven welke kleur de grafiek moet hebben en
of je de meetwaarden als stip of als kruis wilt zien. In \figref{fig:coach7} zie je
de grafieken. Een grafiek met en één grafiek zonder logaritmische schaal.


\begin{figure}
    \centering
    \includegraphics[scale=0.6]{coach6}
    \caption{Instellingen voor het logaritmische pulshoogte diagram.}
    \label{fig:coach6}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[scale=0.3]{coach7}
    \caption{Pulshoogte diagrammen, lineair en logaritmisch}
    \label{fig:coach7}
\end{figure}


\subsection{opdrachten}
\label{sec:opdrachten}

\textbf{Opdracht 1.}
Maak nog 3 dezelfde histogrammen van de andere detectoren. Plaats deze apart in diagrammen.
(je kunt ook twee grafieken in één diagram plaatsen.)

\textbf{Opdracht 2.}
Gebruik de analyse of uitlees optie om de waarde van de piek in de diagrammen
uit te lezen. Noteer deze. Zijn ze voor elke detector precies hetzelfde?

\textbf{Opdracht 3.}
Analyseer de helling van het logaritmische diagram. Gebruik de `analyse' en dan `helling'
mogelijkheid, die je vindt door rechts te klikken op het diagram.
Teken op een afstand van 3x de waarde van de piek die je bij opdracht 2 vond een beste raaklijn aan de
grafiek. We kiezen 3x de afstand om zo eerlijk te vergelijken tussen de verschillende
histogrammen. Zie \figref{fig:coach8}. Klik in het analyse venster op het punt en verander
de helling van de raaklijn met de pijltjes toetsen. Zorg dat je zo de beste raaklijn aangeeft in de grafiek.

\textbf{Opdracht 4.}
a.
Download een tsv-bestand met weerdata van de \hisparc website.
Kies dan een \hisparc station wat ook een weerstation heeft.
Maak eens wat plotjes van bijvoorbeeld de luchtdruk, windsnelheid, temperatuur,
tegen het tijdsverloop over een dag.

b. Bepaal met een histogram van de pulshoogte piek van een warme zomerdag of
een winterdag. Zie je verschillen tussen de positie van de piek op een warme of
wat koudere dag?

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach8}
    \caption{Bepaling van de helling van het pulshoogte diagram op een afstand
    van 3x de piek waarde.}
    \label{fig:coach8}
\end{figure}

\section{Werken met Coach 7}

Coach 7 maakt het mogelijk om meer dan acht kolommen in te lezen
uit een gedownload tsv-bestand. In ons geval worden zelfs alle 21 kolommen van een event in gelezen.
Omdat Coach 7 een ander uiterlijk en andere symbolen voor de knoppen heeft dan Coach 6, wordt
in deze sectie aandacht besteed aan het doen van analyse op de gegevens met Coach 7.

In \figref{fig:coach9} is een screenshot van Coach 7 te zien.
Login als `Docent' en kies voor activiteit type `Meten'.


\begin{figure}
    \centering
    \includegraphics[scale=0.2]{coach9}
    \caption{Screenshot van het openingsscherm van Coach7}
    \label{fig:coach9}
\end{figure}

Nu we in de activiteit omgeving zitten kunnen we het tsv- of csv -bestand importeren.
Mocht het tsv bestand niet worden ingelezen door Coach 7 dan kun je handmatig de extensie
van het bestand veranderen naar csv. Coach 7 kan nu het bestand wel inlezen.
Klik op het tabel icoon. Nu opent een tabel venster.
Als je met een rechtermuisknop op het scherm in het tabel venster klikt, verschijnt
een uitklapmenu waarin je aangeeft bij meting, importeer uit csv bestand,
dat je een textfile wilt importeren.
Zie \figref{fig:coach10}

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach10}
    \caption{Importeren van een tsv-bestand.}
    \label{fig:coach10}
\end{figure}

Na het selecteren van het juiste tsv-bestand krijgen we een soortgelijk scherm
als in figuur \ref{fig:coach3}. In \figref{fig:coach11} zien we ook deze instellingen.
Na het instellen van dit venster klikken we `ok'. Er wordt je nu gevraagd om elke
kolom een grootheid en een eenheid te geven. Dat kun je doen maar is heel veel
werk. Beter kun je straks bij de grafiek een juiste grootheid en eenheid voegen.
Je zult namelijk niet van elke kolom een histogram of grafiek willen maken.

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach11}
    \caption{Instellen voor het importeren van data.}
    \label{fig:coach11}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach12}
    \caption{In dit menu hoeven we niets te veranderen.}
    \label{fig:coach12}
\end{figure}

Nu we alle data geïmporteerd hebben krijgen we de waarden in een tabel. Klik op het plusje
linksboven in het tabel venster, om de tabel uit te klappen. Coach 7 kan ook
geen tijdstempel en datum importeren, maar het gaat ons nu om de data.
Nu zien we alle kolommen die geïmporteerd zijn. We kunnen dubbelklikken op
de tekst boven een kolom. Dan opent een menu waarin we de namen van grootheden en eenheden
kunnen aanpassen. Zie \figref{fig:coach13}.

\begin{figure}
    \centering
    \includegraphics[scale=0.3]{coach13}
    \caption{Dubbelklik de kolomkop en pas daarna de grootheden en eenheden
    van de gewenste kolommen aan.}
    \label{fig:coach13}
\end{figure}

Rechtslik nu op een leeg venster en kies `Diagram plaatsen'. Dit is nu nog een leeg diagram,
waar we vanuit de Datatabel data naar toe gaan slepen. We willen eerst echter nog dat
de Datatabel de index van de rijen weergeeft. Deze is standaard verborgen in
Coach 7. We gaan de kolom `Index' zichtbaar maken. Rechtsklik op de Datatabel.
Het menu wat je in \figref{fig:coach15} ziet verschijnt.
Vink de optie `Index' aan. In de Datatabel wordt nu de Index waarde van elke rij getoond.

Sleep nu vanuit de Datatabel de Index naar de horizontale as van het lege diagram venster.
Sleep nu vanuit de Datatabel een kolom met data naar de verticale as.
De grafiek die nu verschijnt zie je in \figref{fig:coach14}. Als je op de automatisch
zoomen knop drukt (het vergrootglas), dan zie je het overzicht van alle data in het
diagram. Dit plaatje zie je in \figref{fig:coach18}
Uit het menu van het analyse gereedschapskistje kies je `histogram'. Er wordt
nu een histogram (pas weer het aantal klassen aan) gemaakt. In de Datatabel worden
nu twee grootheden toegevoegd, die standaard de naam `Getal' en bijvoorbeeld
`importeren 5 klassen' heten.
We willen nu graag een logaritmische grafiek maken van ons histogram.
Klik rechts op de Datatabel en kies: voeg een variabele toe -> in Datareeks -> formule.
Zoals in \figref{fig:coach20}. In het venster wat je nu krijgt kun je de logaritme
van `Getal' uit laten rekenen. Je maakt nu een nieuwe grootheid aan die je
bijvoorbeeld `Log(Pulshoogte1)' noemt.
Pas nu het label van de nieuwe grootheid aan naar de naam die je aan de grootheid
wilt geven. Geef ook de bijhorende eenheid op. Vul in bij formule in:
\textbf{Log(Getal)} door op de knop wijzigen te klikken. Je hebt nu de instelling
zoals je kunt zien in \figref{fig:coach21}.
Klik \textbf{ok} om de aanpassingen te accepteren. In de Datatabel is nu een extra kolom opgenomen
die de naam `Log(Pulshoogte1)' heeft.
Maak nu een nieuw diagram en sleep deze grootheid naar de y-as en sleep de grootheid
`importeren ... klassen' naar de x-as (waar ... staat voor het nummer van de geïmporteerde kolom.
Je hebt nu een logaritmische grafiek gemaakt
van de Pulshoogte van een detector. De bovenstaande stappen kun je herhalen
voor de Pulshoogte van de andere detectoren van je \hisparc station.
Het beste kun je elke keer de activiteit opslaan per analyse van een detector.
Zodat je uiteindelijk bijvoorbeeld 4 Coach 7 activiteiten hebt voor een \hisparc station.

\hspace{3 mm}

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach15}
    \caption{Zichtbaar maken van de Index in de Datatabel}
    \label{fig:coach15}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[scale=0.6]{coach18}
    \caption{Overzicht van de puls hoogte data na gebruik van de automatische zoom knop!}
    \label{fig:coach18}
\end{figure}

\textbf{Opdracht 5.}
Probeer de opdrachten van paragraaf \ref{sec:opdrachten} nu met Coach 7 te doen.

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach14}
    \caption{Klik op de gereedschapskist (het analyse menu verschijnt). Kies `Histogram'.}
    \label{fig:coach14}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[scale=0.4]{coach20}
    \caption{Invoegen van een formule in Coach 7}
    \label{fig:coach20}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[scale=0.2]{coach21}
    \caption{Invoegen nieuwe grootheid Log(Pulshoogte) met behulp van een
    formule}
    \label{fig:coach21}
\end{figure}
\end{document}
