\input{../style}

\title{Installatie \hisparc electronica}
\author{C.G.N. van Veen}
\docdetector{6}{IHE}
\version{1.0}

\begin{document}

\maketitle

\section{Checklist}

De \hisparc elektronica kan in twee configuraties toegepast worden:
\begin{itemize}
    \item Een enkele ‘Master’ unit voor het uitlezen van twee skiboxen.
    \item Een Master- in combinatie met een ‘Slave-unit’, geschikt voor
    een detectiestation met vier scintillatieplaten.
\end{itemize}

\subsection{Opstelling met twee skiboxen}

De \hisparc II of III Master elektronica \figref{fig:kastje-voorkant}
integreert snelle signaalverwerking, conversie van twee analoge signalen afkomstig van de
fotoversterkerbuizen naar digitaal formaat, en een precisie GPS, in één
behuizing. De Master verstuurt zijn data via een USB verbinding aan de
achterzijde (aansluiting aan de linker kant in \figref{fig:master-achterkant}
naar de data acquisitie (DAQ) pc. De rechter USB aansluiting (onder de
connector voor de GPS antenne) is voor directe communicatie tussen GPS
en GPS monitorprogramma. Deze verbinding is uitsluitend voor het
verifiëren en/of aanpassen van de instellingen van de GPS. In
tegenstelling tot de oudere elektronica, wordt de \hisparc II of III unit
nu volledig bestuurd vanaf de DAQ computer. Op deze pc draait een
programma dat geschreven is in LabVIEW. In de documenten `Inregelen
PMT's' en 'GPS Calibratie'  vindt U informatie die U inzicht geven in
zowel het instellen van de GPS als de diverse opties die het \hisparc
II of III besturingsprogramma biedt. Het LabVIEW programma is
verantwoordelijk voor het verzamelen en tevens het doorsturen van de
meetgegevens naar een locaal buffer op de harde schijf van de data
acquisitie pc. De gegevens in deze locale buffer worden regelmatig door
een tweede programma – dat onafhankelijk van het LabVIEW programma
draait – naar de centrale (MySQL) database bij het Nikhef in Amsterdam
gestuurd. In de nabije toekomst wordt er ook een mogelijkheid gecreëerd
om de gegevens van het station voor analyse op te slaan in een locale
database. De analyse software kan de gegevens uit zowel de centrale als
de locale database verwerken.

\begin{figure}
    \centering
    \includegraphics[scale=0.3]{kastje-voorkant}
    \caption{De voorkant van de \hisparc II Master; van links naar
    rechts: groene LED voor de voedingsspanning, de gele LED geeft aan
    of er signalen binnenkomen, signaal- en voedingsaansluiting voor
    fotobuis-1. Midden: de inlaat voor de luchtkoeling. Rechts in
    omgekeerde volgorde: voedings- en signaalaansluiting fotobuis-2 en
    gele signaal LED.}
    \label{fig:kastje-voorkant}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[scale=0.3]{master-achterkant}
    \caption{De achterzijde van de \hisparc II Master; van links naar
    rechts: USB aansluiting voor het versturen van de meetgegevens naar
    de pc, TTL aansluiting voor een externe trigger (alleen voor
    speciale doeleinden), twee UTP verbindingen (niet van toepassing),
    uitgang luchtkoeling, aansluiting voedingsadapter (12 Volt DC, 1.5
    A), GPS antenne aansluiting (rechtsboven) en USB verbinding voor het
    aanpassen van de GPS instellingen.}
    \label{fig:master-achterkant}
\end{figure}

\subsection{Opstelling met vier skiboxen}

Om vier scintillatie detectoren uit te kunnen lezen, moet een tweede
\hisparc II unit aangesloten worden. Echter, deze unit – de Slave –
\figref{fig:kastje-voorkant} bezit geen GPS maar is verder identiek aan de
Master. Aan de achterzijde is dan ook geen aansluiting voor een
GPS-antenne aanwezig \figref{fig:master-slave-achterkant}. 

\begin{figure}
    \centering
    \includegraphics[scale=0.15]{master-slave-achterkant}
    \caption{Een snelle databus verzorgt de communicatie tussen \hisparc
    II Master en Slave; de verbinding bestaat uit twee kabels die ‘LVDS
    data in’ en ‘LVDS data out’ (kruislings) met elkaar verbinden.}
    \label{fig:master-slave-achterkant}
\end{figure}

De Slave wordt via twee korte UTP kabels (kruislings, de lengte mag niet
veranderd worden!) verbonden met de Master unit (Master-Slave
combinatie). Master en Slave versturen hun data dus over aparte USB
verbindingen (voor beide units is dit de linker connector aan de
achterzijde). 

\end{document}
